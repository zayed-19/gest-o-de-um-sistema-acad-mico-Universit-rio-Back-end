datasource db {
  provider = "mysql"
}

generator client {
  provider = "prisma-client"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
  output = "./generated/prisma-client"
  moduleFormat = "cjs"
}


model aluno {
  id Int @id @default(autoincrement())
  nome String @db.VarChar(100)
  NrMatricula Int 
  DataNasc DateTime
  genero String @db.VarChar(1)
  morada String @db.VarChar(100)
  telefone Int
  idade Int
  email String @db.VarChar(100)
  id_turma Int
  Turma turma @relation(fields: [id_turma], references: [id])
  id_documento Int
  Documento documento @relation(fields: [id_documento], references: [id])
  presencas presenca[]
  historico_matriculas historico_matricula[]
  avaliacaos avaliacao[]
  pagamentos pagamento[]
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("aluno")
}


model professor {
  id Int @id @default(autoincrement())
  nome String @db.VarChar(100)
  BI String @db.VarChar(100)
  telefone Int
  email String @db.VarChar(100)
  Avaliacaos avaliacao[]
  cursos curso[]
 
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("professor")
}


model documento {
  id Int @id @default(autoincrement())
  tipodedocumentos String @db.VarChar(100)
  Alunos aluno[]
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("documento")
}


model disciplina {
  id Int @id @default(autoincrement())
  tipo_disciplina String @db.VarChar(100)
  presencas presenca[]
  
  
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("disciplina")
}

model turma {
  id Int @id @default(autoincrement())
  nome String @db.VarChar(100)
  Aluno aluno[]
  Id_curso Int
  curso curso @relation(fields: [Id_curso], references: [id])
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("turma")
}

model curso {
  id Int @id @default(autoincrement())
  nome String @db.VarChar(100)
  duração DateTime
  id_professor Int
  professor professor @relation(fields: [id_professor], references: [id])
  Turma turma[]
  id_faculdade Int
  faculdades faculdades @relation(fields: [id_faculdade], references: [id])
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("curso")
}

model avaliacao {
  id Int @id @default(autoincrement())
  TipodeAvalição String @db.VarChar(100)
  nota Int
  data DateTime
  id_aluno Int
  Aluno aluno @relation(fields: [id_aluno], references: [id])
  id_professor Int
  Professor professor @relation(fields: [id_professor], references: [id])
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("avaliacao")
}

model pagamento {
  id Int @id @default(autoincrement())
  datadoPagamento DateTime
  valor Int
  id_Aluno Int
  Aluno aluno @relation(fields: [id_Aluno], references: [id])
  Faturas fatura[]
  Recibos recibo[]
  id_emolumento Int
  Emolumento emolumento @relation(fields: [id_emolumento], references: [id])
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("pagamento")
}

model fatura {
  id Int @id @default(autoincrement())
  nr_fatura Int
  dataEMISSÃO DateTime
  Valor_Total Int
  id_pagamento Int
  Pagamento pagamento @relation(fields: [id_pagamento], references: [id])
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("fatura")
}

model recibo {
  id Int @id @default(autoincrement())
  NrRecibo Int
  dataEmissão DateTime
  id_pagamento Int
  Pagamento pagamento @relation(fields: [id_pagamento], references: [id])
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("recibo")
}

model notificacao{
  id Int @id @default(autoincrement())
  tipo_notificacoes String @db.VarChar(100)
  data_envio DateTime
  informacao String @db.VarChar(100)
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("notificacao")
}




model presenca {
  id Int @id @default(autoincrement())
  data_presenca DateTime
  status_presenca String @db.VarChar(1)
  id_aluno Int
  Aluno aluno @relation(fields: [id_aluno], references: [id])
  id_disciplina Int
  Disciplina disciplina @relation(fields: [id_disciplina], references: [id])
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("presenca")
}

model cargo{
  id Int @id @default(autoincrement())
  nome String @db.VarChar(100)
  descricao String @db.VarChar(100)
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("cargo")
}


model historico_matricula{
  id Int @id @default(autoincrement())
  id_aluno Int
  Aluno aluno @relation(fields: [id_aluno], references: [id])
  id_matricula Int
  Matricula matricula @relation(fields: [id_matricula], references: [id])
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("historico_matricula")
}

model faculdades{
  id Int @id @default(autoincrement())
  tipos_faculdades String @db.VarChar(100)
  Cursos curso[]
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("faculdades")
}

model emolumento{
  id Int @id @default(autoincrement())
  referencia Int
  Pagamentos pagamento []
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("emolumento")
}

model relatorio{
  id Int @id @default(autoincrement())
  tipo_relatorio String @db.VarChar(100)
  data_geracao DateTime
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("relatorio")
}

model matricula{
  id Int @id @default(autoincrement())
  ano_letivo Int
  data_matricula DateTime
  estado_matricula String @db.VarChar(100)
  Historico_matriculas historico_matricula []
  create_at DateTime @default(now()) @db.Timestamp(6)
  update_at DateTime @updatedAt

  @@map("matricula")
}









